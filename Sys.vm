function Sys.min 0
push argument 0
push argument 1
lt  // Check if argument[0] < argument[1]
if-goto MIN_FIRST

push argument 1
return

label MIN_FIRST
push argument 0
return

function Sys.max 0
push argument 0
push argument 1
gt  // Check if argument[0] > argument[1]
if-goto MAX_FIRST

push argument 1
return

label MAX_FIRST
push argument 0
return

function Sys.range 0

push argument 1
push constant 1
lt
if-goto RETURN_ZERO

pop pointer 1
push that 0
pop local 0  // min = array[0]
push that 0
pop local 1  // max = array[0]

label LOOP
push argument 1
push constant 1
sub
pop argument 1
if-goto CONTINUE
goto COMPUTE_RANGE

label CONTINUE
push argument 0
push constant 1
add
pop argument 0

push argument 0
pop pointer 1
push that 0
push local 0
call Sys.min 2
pop local 0

push that 0
push local 1
call Sys.max 2
pop local 1

goto LOOP

label COMPUTE_RANGE
push local 1
push local 0
sub
return

label RETURN_ZERO
push constant 0
return
